<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Pagamento Pix - Pixup</title>
</head>
<body style="font-family: Arial, sans-serif; padding: 20px; max-width: 400px; margin: auto;">
  <h2>üîê Gerar Pagamento via Pix</h2>
  <label for="valor">Digite o valor (R$):</label>
  <input type="number" id="valor" placeholder="Ex: 25.90" style="width: 100%; padding: 8px; margin: 10px 0;">
  <button onclick="gerarPix()" style="padding: 10px 20px; background-color: #4CAF50; color: white; border: none; cursor: pointer;">Gerar Pix</button>

  <div id="resultado" style="margin-top: 20px;"></div>

  <script>
    async function gerarPix() {
      const valor = document.getElementById("valor").value;
      if (!valor || parseFloat(valor) <= 0) {
        alert("Digite um valor v√°lido!");
        return;
      }

      const resposta = await fetch("https://api.pixup.com.br/pagamento", {
        method: "POST",
        headers: {
          "Content-Type": "application/json",
          "client_id": "Jhonsdss_1762172142",
          "client_secret": "170a64c2d6f68383f989de8878b0ae4c8e1b5a035649bc60177f3b54ed6c9910"
        },
        body: JSON.stringify({
          valor: parseFloat(valor),
          descricao: "Pagamento via link gerado"
        })
      });

      const dados = await resposta.json();

      if (resposta.ok && dados?.qrcode) {
        document.getElementById("resultado").innerHTML = `
          <p><strong>Pix Copia e Cola:</strong></p>
          <textarea style="width: 100%; height: 100px;">${dados.qrcode}</textarea>
          <br><br>
          <img src="${dados.imagemQrcode}" alt="QR Code Pix" style="width: 100%; max-width: 300px;">
        `;
      } else {
        document.getElementById("resultado").innerHTML = `<p style='color:red;'>Erro ao gerar Pix. Tente novamente.</p>`;
      }
    }
  </script>
</body>
</html>
